(this["webpackJsonpxmas-hope"]=this["webpackJsonpxmas-hope"]||[]).push([[0],{51:function(e,t,r){},64:function(e,t,r){"use strict";r.r(t);var c=r(2),s=r.n(c),n=r(13),i=r.n(n),o=r(1),a=r(3),l=r(6),d=r.n(l),u=r(7),b=r(5),j=r(27),p=r(9),x=r.n(p),h=(r(51),Object(c.createContext)({carts:[],setCarts:function(e){}})),f=r(0),v=function(e){var t=e.cart,r=e.approveCart,c=e.approveProduct;return Object(f.jsxs)("div",{className:"border rounded shadow-lg text-xs divide-y h-100 w-106",children:[Object(f.jsxs)("div",{className:"flex flex-row justify-between items-center ".concat(t.isApproved?"bg-blue-800":"bg-blue-400"," p-4 h-14"),children:[Object(f.jsxs)("div",{className:"flex flex-row space-x-2",children:[Object(f.jsxs)("div",{className:"text-base text-white",children:["Child ",t.id]}),t.isWellBehaved?Object(f.jsxs)("svg",{className:"w-6 h-6 bg-yellow-400 border rounded",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[Object(f.jsx)("path",{fill:"#fff",d:"M12 14l9-5-9-5-9 5 9 5z"}),Object(f.jsx)("path",{fill:"#fff",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),Object(f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})]}):Object(f.jsxs)("svg",{className:"w-6 h-6 bg-yellow-400 border rounded invisible",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[Object(f.jsx)("path",{fill:"#fff",d:"M12 14l9-5-9-5-9 5 9 5z"}),Object(f.jsx)("path",{fill:"#fff",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),Object(f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})]})]}),t.isInCart&&t.isApproved?Object(f.jsx)("div",{children:Object(f.jsx)("svg",{className:"w-6 h-6 text-white text-center",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}):"",Object(f.jsx)("div",{className:"flex flex-row space-x-4 items-center",children:t.isApproved?Object(f.jsxs)("div",{className:"flex flex-row space-x-1 items-center ".concat(0===t.products.length?"hidden":"block"),children:[Object(f.jsx)("div",{className:"text-xs text-white",children:"Click to deselect"}),Object(f.jsx)("button",{onClick:function(){return r(t)},className:"w-5 h-5 border rounded bg-white flex items-center justify-center focus:outline-none",children:Object(f.jsx)("svg",{className:"w-5 h-5 text-blue-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]}):Object(f.jsxs)("div",{className:"flex flex-row space-x-1 items-center ".concat(0===t.products.length?"inivisible":"visible"),children:[Object(f.jsx)("div",{className:"text-xs text-white",children:"Click to select"}),Object(f.jsx)("button",{onClick:function(){return r(t)},className:"w-5 h-5 border rounded bg-white focus:outline-none"})]})})]}),Object(f.jsxs)("div",{className:"grid grid-cols-4",children:[Object(f.jsxs)("div",{className:"col-span-4 grid grid-cols-4 py-2 border-b bg-gray-100 justify-items-stretch ".concat(0===t.products.length?"hidden":"block"),children:[Object(f.jsx)("div",{className:"col-span-3 justify-self-center",children:"Product"}),Object(f.jsx)("div",{className:"justify-self-center",children:"Price"})]}),0===t.products.length?Object(f.jsx)("div",{className:"col-span-4 place-content-center row-span-2",children:Object(f.jsxs)("div",{className:"flex flex-row space-x-4 items-center justify-center",children:[Object(f.jsx)("svg",{className:"w-24 h-24 text-blue-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),Object(f.jsx)("div",{className:"text-base",children:"Empty"})]})}):"",Object(f.jsx)("div",{className:"divide-y col-span-4",children:t.products.map((function(e){return Object(f.jsxs)("div",{className:"p-2 grid grid-cols-4 justify-items-stretch place-items-center",children:[e.isApproved?Object(f.jsx)("button",{onClick:function(){return c(e.productId,t.id)},className:"w-5 h-5 border rounded border-blue-400 shadow-lg bg-white focus:outline-none",children:Object(f.jsx)("svg",{className:"w-5 h-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}):Object(f.jsx)("button",{onClick:function(){return c(e.productId,t.id)},className:"w-5 h-5 border rounded shadow-lg border-blue-500 bg-white focus:outline-none"}),Object(f.jsx)("img",{src:e.image,alt:"image",className:"w-1/2 justify-self-start"}),Object(f.jsxs)("div",{children:[e.isFavourite?Object(f.jsx)("svg",{className:"w-4 h-4 fill-current text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(f.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})}):"",Object(f.jsx)("div",{children:e.title})]}),Object(f.jsx)("div",{className:"justify-self-center",children:e.price})]},e.productId)}))})]}),Object(f.jsxs)("div",{className:"relative col-span-4 grid grid-cols-4 place-items-center ".concat(0===t.products.length?"hidden":"block"),children:[Object(f.jsx)("div",{className:"py-2 col-span-3",children:"Total price"}),Object(f.jsx)("div",{className:"col-span-1",children:0!==t.products.length?t.products.map((function(e){return parseFloat(e.price)})).reduce((function(e,t){return e+t})):""})]})]})},O=function(e){var t=e.setCriteria,r=e.feedback,s=e.setFeedback,n=e.approveProduct,i=e.approveCart,l=Object(c.useContext)(h),d=l.carts,u=l.setCarts;return Object(f.jsxs)("div",{className:"flex flex-col space-y-6",children:[Object(f.jsxs)("div",{className:"flex flex-row items-center space-x-4 mx-10",children:[Object(f.jsxs)("div",{className:"flex flex-row space-x-4",children:[Object(f.jsx)("button",{type:"button",onClick:function(){var e=localStorage.getItem("CartList");e&&u(JSON.parse(e)),s("All wishlists and product selections cleared ")},className:"p-2 text-red-500 hover:bg-red-500 hover:text-white text-sm border-red-500 w-20 text-white border rounded shadow-lg focus:outline-none",children:"Reset"}),Object(f.jsx)("button",{type:"button",onClick:function(){var e=d.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{isApproved:!0,products:e.products.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{isApproved:!0})}))})}));u(Object(a.a)(e)),t(""),s("All wishlists and their products selected")},className:"p-2 text-blue-400 hover:bg-blue-800 hover:text-white  text-sm w-20 border rounded shadow-lg border-blue-400 hover:border-blue-800 focus:outline-none",children:"Select all"}),Object(f.jsxs)("button",{type:"button",onClick:function(){var e=d.map((function(e){return!0===e.isApproved?Object(o.a)(Object(o.a)({},e),{},{isInCart:!0}):Object(o.a)(Object(o.a)({},e),{},{isInCart:!1})}));0!==e.filter((function(e){return!0===e.isInCart})).length?s("Added selected wishlist to cart"):s("Error!! Wishlist not added to cart. Select at least 1 wishlist"),u(Object(a.a)(e)),t("")},className:"p-2 hover:bg-blue-800 hover:text-white w-20 text-sm text-blue-400 border border-blue-400 hover:border-blue-800 rounded shadow-lg focus:outline-none",children:[" ","Add"]})]}),Object(f.jsx)("div",{className:"text-sm text-red-500",children:r})]}),Object(f.jsx)("div",{className:"grid sm:grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-x-4 gap-y-4 mx-10",children:d?Object(a.a)(d).map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(v,{cart:e,approveCart:i,approveProduct:n})},e.id)})):""})]})},m=r(14),w=r.n(m),g=function(e,t){return t.filter((function(t){return t.id===e.id}))[0]},N=function(e,t){var r=g(e,t).products.filter((function(e){return!1===e.isApproved})).filter((function(r){return r===g(e,t).products[(c=g(e,t).products,c.map((function(e){return parseFloat(e.price)})).indexOf(Math.min.apply(Math,Object(a.a)(c.map((function(e){return parseFloat(e.price)}))))))];var c}));return t.map((function(t){return t.id===e.id?Object(o.a)(Object(o.a)({},t),{},{products:t.products.map((function(e){return e.productId===r[0].productId?Object(o.a)(Object(o.a)({},e),{},{isApproved:!0}):Object(o.a)(Object(o.a)({},e),{},{isApproved:!1})}))}):Object(o.a)({},t)}))},k=function(e){var t=e.findTotalNum,r=e.findTotalSum,s=e.filterFunction,n=e.isApproved,i=Object(c.useContext)(h).carts,l=Object(c.useState)([]),j=Object(b.a)(l,2),p=j[0],v=j[1];return Object(c.useEffect)((function(){var e=s();Object(u.a)(d.a.mark((function t(){var r,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],c=0;case 2:if(!(c<e.length)){t.next=10;break}return t.next=5,x.a.patch("https://fakestoreapi.com/carts/".concat(e[c].id),Object(o.a)({},e[c]));case 5:s=t.sent,r=[].concat(Object(a.a)(r),[Object(o.a)({},s.data)]);case 7:c++,t.next=2;break;case 10:v(Object(a.a)(r));case 11:case"end":return t.stop()}}),t)})))()}),[i]),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"bg-blue-800 text-white col-span-3 p-2 text-base",children:n?"Approved cart":"Discarded cart"}),Object(f.jsxs)("div",{className:"grid grid-cols-3 justify-items-stretch border shadow-lg divide-y",children:[Object(f.jsxs)("div",{className:"col-span-3 grid grid-cols-3 bg-gray-200 w-full p-1 font-medium",children:[Object(f.jsx)("div",{children:"Name"}),Object(f.jsx)("div",{children:"Gifts"}),Object(f.jsx)("div",{children:"Sum"})]}),p.map((function(e){return Object(f.jsxs)("div",{className:"col-span-3 grid grid-cols-3 p-1",children:[Object(f.jsxs)("div",{children:["Child ",e.id]}),Object(f.jsx)("div",{children:e.products.length}),Object(f.jsx)("div",{children:0!==e.products.length?e.products.map((function(e){return parseFloat(e.price)})).reduce((function(e,t){return e+t})):""})]})})),Object(f.jsxs)("div",{className:"col-span-3 grid grid-cols-3 bg-gray-200 w-full p-1 font-medium",children:[Object(f.jsx)("div",{children:"Total :"}),Object(f.jsx)("div",{children:0!==p.length?t(p):""}),Object(f.jsx)("div",{children:0!==p.length?r(p).toFixed(2):""})]})]})]})},C=function(e){return e.map((function(e){return 0!==e.products.length?e.products.length:0})).reduce((function(e,t){return e+t}))},y=function(e){for(var t=0,r=0;r<e.length;r++)for(var c=0;c<e[r].products.length;c++)t+=parseFloat(e[r].products[c].price);return t},A=function(e){for(var t=[],r=[],c=0;c<e.length;c++)for(var s=0;s<e[c].products.length;s++)r=[].concat(Object(a.a)(r),[{cart_id:e[c].id,product_id:e[c].products[s].productId,product_price:parseFloat(e[c].products[s].price)}]),t=[].concat(Object(a.a)(t),[e[c].products[s].productId]);for(var n=Object(a.a)(new Set(t)).map((function(e){return{product_id:e,quantity:0,sum:0}})),i=0;i<n.length;i++)for(var o=0;o<r.length;o++)r[o].product_id===n[i].product_id&&(n[i].quantity+=1,n[i].sum+=r[o].product_price);for(var l=0,d=0;d<n.length-1;d++)n[d].quantity>1&&(l+=n[d].sum*(.1*n[d].quantity));return l},M=function(e){var t=e.approveCarts,r=e.discardCarts,c=e.approvedCarts;return Object(f.jsxs)("div",{className:"text-sm mx-4 flex flex-col space-y-4 mb-4",children:[Object(f.jsx)(k,{findTotalNum:C,findTotalSum:y,filterFunction:t,isApproved:!0}),Object(f.jsx)(k,{findTotalNum:C,findTotalSum:y,filterFunction:r,isApproved:!1}),Object(f.jsxs)("div",{className:"font-bold text-base text-red-500",children:["Discount = ",A(c).toFixed(2)," "]}),Object(f.jsxs)("div",{className:"font-bold text-base text-blue-800",children:["You Pay: ",(y(c)-A(c)).toFixed(2)]}),Object(f.jsx)("button",{type:"button",className:"p-2 border rounded ahadow-2xl border-blue-800 hover:bg-blue-800 text-lg hover:text-white",children:"Submit"})]})},L=function(e){var t=e.setIsOpen,r=e.approveCart,s=e.approveProduct,n=Object(c.useContext)(h).carts,i=function(){return n.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{products:e.products.filter((function(t){return e.isApproved&&e.isInCart&&t.isApproved}))})})).map((function(e){return 0!==e.products.filter((function(e){return!1===e.isApproved})).length&&!0===e.isApproved?Object(o.a)(Object(o.a)({},e),{},{isInCart:!0}):Object(o.a)({},e)}))},a=function(){return n.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{products:e.products.filter((function(t){return!1===t.isApproved||!1===e.isApproved||!1===e.isInCart}))})}))},l=i(),d=a(),u=Object(c.useState)(l[0]),j=Object(b.a)(u,2),p=j[0],x=j[1],O=Object(c.useState)(d[0]),m=Object(b.a)(O,2),w=m[0],g=m[1];return Object(c.useEffect)((function(){var e=i().filter((function(e){return e.id===p.id}))[0],t=a().filter((function(e){return e.id===w.id}))[0];x(e),g(t)}),[n]),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"left-0 top-0",children:Object(f.jsx)("button",{onClick:function(){return t(!1)},className:"group border rounded shadow-lg border-red-500 w-5 h-5 flex items-center justify-center focus:outline-none hover:bg-red-500",children:Object(f.jsx)("svg",{className:"w-5 h-5 text-red-500 group-hover:text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})})})}),0!==n.filter((function(e){return!0===e.isInCart})).length?Object(f.jsxs)("div",{className:"flex flex-row justify-center items-start space-x-4 mt-2 mx-4",children:[Object(f.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(f.jsx)("div",{className:"text-center",children:"Approved carts"}),Object(f.jsx)("div",{className:"flex flex-row space-x-6 justify-between",children:Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsx)("div",{className:"flex flex-row items-center justify-center",children:Object(f.jsx)("button",{onClick:function(){return function(e,t){var r=l.map((function(e){return e.id})).indexOf(e.id),c=d.map((function(e){return e.id})).indexOf(t.id);x(r>0?l[r-1]:l[l.length-1]),g(c>0?d[c-1]:d[d.length-1])}(p,w)},type:"button",className:"border visible rounded-full flex items-center justify-center bg-gray-200 hover:bg-blue-800 hover:text-white focus:outline-none",children:Object(f.jsx)("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})})})}),Object(f.jsx)("div",{className:"flex items-center",children:Object(f.jsx)("div",{children:Object(f.jsx)(v,{cart:p,approveCart:r,approveProduct:s})})})]})})]}),Object(f.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(f.jsx)("div",{children:"Discarded carts"}),Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsx)("div",{className:"flex items-center",children:Object(f.jsx)(v,{cart:w,approveCart:r,approveProduct:s})}),Object(f.jsx)("div",{className:"flex items-center justify-center",children:Object(f.jsx)("button",{onClick:function(){return function(e,t){var r=l.map((function(e){return e.id})).indexOf(e.id),c=d.map((function(e){return e.id})).indexOf(t.id);r<l.length-1?x(l[r+1]):x(l[0]),c<d.length-1?g(d[c+1]):g(d[0])}(p,w)},type:"button",className:"border visible\n                         rounded-full flex items-center justify-center bg-gray-200 hover:bg-blue-800 hover:text-white focus:outline-none",children:Object(f.jsx)("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})})})})]})]}),Object(f.jsx)("div",{className:"w-full",children:Object(f.jsx)(M,{approveCarts:i,discardCarts:a,approvedCarts:l})})]}):Object(f.jsxs)("div",{className:"text-red-500 text-center h-1/2 p-48 flex flex-col space-y-10 text-lg",children:[Object(f.jsxs)("div",{className:"flex flex-row space-x-4 items-center justify-center",children:[Object(f.jsx)("svg",{className:"w-24 h-24 text-blue-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),Object(f.jsx)("div",{children:"Your cart is empty"})]}),Object(f.jsxs)("div",{className:"h-screen-1/2 flex flex-row space-x-4 items-center",children:[Object(f.jsx)("div",{children:"Please approve the wishlists from the main page"}),Object(f.jsx)("button",{type:"button",onClick:function(){return t(!1)},className:"p-1 hover:bg-blue-800 hover:text-white border rounded border-blue-800 text-blue-800",children:"Click here"})]})]})]})},I=function(e){var t=e.criteria,r=e.setCriteria,s=e.setFeedback,n=e.approveCart,i=e.approveProduct,l=Object(c.useContext)(h),d=l.carts,u=l.setCarts,j=localStorage.getItem("CartList"),p=Object(c.useState)(!1),x=Object(b.a)(p,2),v=x[0],O=x[1];w.a.setAppElement("#root");var m=j?JSON.parse(j).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{isApproved:!0})})):"",g=function e(t){var c=t.map((function(e){return N(e,t).filter((function(t){return t.id===e.id}))[0]})),n=c.map((function(e){return e.products.filter((function(e){return!0===e.isApproved})).length}));n.every((function(e){return 0!==e&&e===n[0]}))||e(c),u(Object(a.a)(c)),s(""),r("Equal number of gifts with mimimum total price approved from the wishlists ")};return Object(f.jsxs)("div",{className:"flex flex-row justify-between mx-10 items-center",children:[Object(f.jsxs)("div",{className:"flex flex-row justify-center items-center m-2 space-x-4",children:[Object(f.jsx)("div",{className:" text-center",children:"Select cart products:"}),Object(f.jsxs)("div",{className:"flex flex-row justify-between space-x-4",children:[Object(f.jsx)("button",{onClick:function(){var e=d.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{isApproved:!0,products:e.products.map((function(e){return!0===e.isFavourite?Object(o.a)(Object(o.a)({},e),{},{isApproved:!0}):Object(o.a)(Object(o.a)({},e),{},{isApproved:!1})}))})}));u(Object(a.a)(e)),s(""),r("Only favourite gifts selected from the all the wishlists")},type:"button",className:"p-2 text-blue-400 hover:bg-blue-800 hover:text-white  text-sm w-20 border rounded shadow-lg border-blue-400 hover:border-blue-800 focus:outline-none",children:"Favorite"}),Object(f.jsx)("button",{onClick:function(){return g(m)},type:"button",className:"p-2 text-blue-400 hover:bg-blue-800 hover:text-white  text-sm w-20 border rounded shadow-lg border-blue-400 hover:border-blue-800 focus:outline-none",children:"Equal"}),Object(f.jsx)("button",{onClick:function(){var e=d.map((function(e){return!0===e.isWellBehaved?Object(o.a)(Object(o.a)({},e),{},{isApproved:!0,products:e.products.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{isApproved:!0})}))}):Object(o.a)(Object(o.a)({},e),{},{isApproved:!1})}));u(Object(a.a)(e)),s(""),r("Wishlist of only well behaved children approved.")},type:"button",className:"p-2 text-blue-400 hover:bg-blue-800 hover:text-white  text-sm w-20 border rounded shadow-lg border-blue-400 hover:border-blue-800 focus:outline-none",children:"Behaved"})]}),Object(f.jsx)("div",{className:"text-red-500 text-sm",children:t})]}),Object(f.jsxs)("button",{onClick:function(){O(!0)},type:"button",className:"group w-11 h-11 border-2 rounded border-blue-400 hover:bg-blue-800 hover:text-white hover:border-blue-800 flex items-center justify-center focus:outline-none",children:[Object(f.jsx)("div",{className:"absolute right-5 w-6 h-6 top-1 border rounded-full bg-red-500 text-white flex items-center justify-center",children:Object(f.jsx)("div",{children:d.filter((function(e){return!0===e.isInCart&&0!==e.products.filter((function(e){return!0===e.isApproved})).length})).length})}),Object(f.jsx)("svg",{className:"w-7 h-7 text-blue-400 group-hover:text-white text-center",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),Object(f.jsx)(w.a,{isOpen:v,onRequestClose:function(){O(!1)},overlayClassName:"fixed inset-0 flex justify-center items-center bg-blue-800 bg-opacity-75",className:"relative bg-white overflow-y-auto rounded-lg focus:outline-none w-5/6",children:Object(f.jsx)(L,{setIsOpen:O,isOpen:v,approveCart:n,approveProduct:i})})]})},S=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),r=t[0],s=t[1],n=Object(c.useState)(""),i=Object(b.a)(n,2),l=i[0],p=i[1],v=Object(c.useState)(""),m=Object(b.a)(v,2),w=m[0],g=m[1],N=Object(c.useState)(!0),k=Object(b.a)(N,2),C=k[0],y=k[1],A=function(){var e=Object(u.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("https://fakestoreapi.com/products/".concat(t.productId));case 3:return r=e.sent,t.title=r.data.title,t.image=r.data.image,t.price=r.data.price,e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=Object(a.a)(r),c=e.products.filter((function(e){return!0===e.isApproved})).length;g("");for(var n=0;n<t.length;n++)e.id==t[n].id&&0!==c?!0===t[n].isApproved?(t[n]=Object(o.a)(Object(o.a)({},t[n]),{},{isApproved:!1,products:t[n].products.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{isApproved:!1})}))}),p("Cart of child ".concat(e.id," is unselected"))):!1===t[n].isApproved&&(t[n]=Object(o.a)(Object(o.a)({},t[n]),{},{isApproved:!0}),p("Cart of child ".concat(e.id,"  is selected. Click add button to add it to cart"))):e.id==t[n].id&&0==c&&p("Selection error!! Please select at least gift item from the wishlist of child ".concat(e.id,"."));s(t)},L=function(e,t){var c=r.map((function(r){return r.id===t?Object(o.a)(Object(o.a)({},r),{},{products:r.products.map((function(t){return t.productId===e?Object(o.a)(Object(o.a)({},t),{},{isApproved:!0!==t.isApproved}):Object(o.a)({},t)}))}):Object(o.a)({},r)})).map((function(e){return e.id===t&&0===e.products.filter((function(e){return!0===e.isApproved})).length?Object(o.a)(Object(o.a)({},e),{},{isApproved:!1}):Object(o.a)({},e)}));s(Object(a.a)(c)),g(""),p("1 product edited in wishlist of child ".concat(t))};return Object(c.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("https://fakestoreapi.com/carts?limit=5");case 3:t=e.sent,r=t.data.map((function(e){var t=e.products.map((function(e){return A(e)}));return Object(u.a)(d.a.mark((function e(){var r,c,s,n,i,o,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,c=!1,e.prev=2,n=Object(j.a)(t);case 4:return e.next=6,n.next();case 6:return i=e.sent,r=i.done,e.next=10,i.value;case 10:if(o=e.sent,r){e.next=17;break}return a=o,e.abrupt("return",a);case 14:r=!0,e.next=4;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),c=!0,s=e.t0;case 23:if(e.prev=23,e.prev=24,r||null==n.return){e.next=28;break}return e.next=28,n.return();case 28:if(e.prev=28,!c){e.next=31;break}throw s;case 31:return e.finish(28);case 32:return e.finish(23);case 33:case"end":return e.stop()}}),e,null,[[2,19,23,33],[24,,28,32]])})))(),y(!1),Object(o.a)({},e)})),setTimeout((function(){var e=r.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{isApproved:!1,isWellBehaved:1===t||3===t,isInCart:!1,products:e.products.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{isApproved:!1,isFavourite:0===t})}))})}));localStorage.setItem("CartList",JSON.stringify(e)),s(Object(a.a)(e))}),3e3),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),Object(f.jsx)("div",{className:"w-full h-full",children:C?Object(f.jsx)("div",{className:"flex justify-center items-center m-56 text-lg",children:Object(f.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(f.jsx)("div",{className:"animate-spin w-5 h-5",children:Object(f.jsx)("svg",{className:"fill-current text-red-500 ",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(f.jsx)("path",{d:"M14.66 15.66A8 8 0 1117 10h-2a6 6 0 10-1.76 4.24l1.42 1.42zM12 10h8l-4 4-4-4z"})})}),Object(f.jsx)("div",{children:"Loading page ....."}),Object(f.jsx)("div",{children:"This may take a few seconds, please don't close the page."})]})}):Object(f.jsx)(h.Provider,{value:{carts:r,setCarts:s},children:Object(f.jsxs)("div",{className:"flex flex-col space-y-16 mb-10",children:[Object(f.jsx)(I,{criteria:w,setCriteria:g,feedback:l,setFeedback:p,approveCart:M,approveProduct:L}),Object(f.jsx)(O,{criteria:w,setCriteria:g,feedback:l,setFeedback:p,approveCart:M,approveProduct:L})]})})})};i.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(S,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.03c95f0b.chunk.js.map